syntax = "proto2";

package com.criteo.hadoop.garmadon;

option java_package = "com.criteo.hadoop.garmadon.event.proto";
option java_outer_classname = "SparkEventProtos";

message StageEvent {
    required int64 start_time = 1;
    required int64 completion_time = 2;
    required string stage_name = 3;
    required string stage_id = 4;
    required string attempt_id = 5;
    required int32 num_tasks = 6;
    
    required string status = 7;
    optional string failure_reason = 8;

    required int64 executor_cpu_time = 9;
    required int64 executor_deserialize_cpu_time = 10;

    required int64 executor_run_time = 11;
    required int64 jvm_gc_time = 12;
    required int64 executor_deserialize_time = 13;
    required int64 result_serialization_time = 14;

    required int64 result_size = 15;
    required int64 peak_execution_memory = 16;

    required int64 disk_bytes_spilled = 17;
    required int64 memory_bytes_spilled = 18;

    required int64 shuffle_read_records = 19;
    required int64 shuffle_read_fetch_wait_time = 20;
    required int64 shuffle_read_local_bytes = 21;
    required int64 shuffle_read_remote_bytes = 22;
    required int64 shuffle_read_total_bytes = 23;
    required int64 shuffle_read_local_blocks_fetched = 24;
    required int64 shuffle_read_remote_blocks_fetched = 25;
    required int64 shuffle_read_total_blocks_fetched = 26;

    required int64 shuffle_write_shuffle_records = 27;
    required int64 shuffle_write_shuffle_time = 28;
    required int64 shuffle_write_shuffle_bytes = 29;

    required int64 input_records = 30;
    required int64 input_bytes = 31;
    required int64 output_records = 32;
    required int64 output_bytes = 33;
}